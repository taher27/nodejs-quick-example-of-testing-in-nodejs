// ********RoostGPT********
/*
Test generated by RoostGPT for test checkNodejsDepsInstalled using AI Type Open AI and AI Model gpt-4


ROOST_TEST_HASH=869bcf28d1

*/

// ********RoostGPT********
const expect = require('chai').expect;
const sinon = require('sinon');
const prepareData = require('./preparing-data-test');

describe('Test that the data fetched from OpenWeatherMap is processed correctly', function () {
  let callback;

  beforeEach(function() {
    callback = sinon.stub();
    callback.withArgs("London").returns(rawWeatherData);
  });

  it('Should check fetched data is processed correctly', function () {
    const processedData = prepareData(callback("London"));
    expect(processedData).to.have.property('temperature');
    expect(processedData).to.have.property('humidity');
    expect(processedData).to.have.property('pressure');
  });

  it('Should return null if no city is provided', function () {
    const processedData = prepareData(callback());
    expect(processedData).to.be.null;
  });

  it('Should throw an error if data is not available', function () {
    callback.withArgs("Unknown").returns(null);
    expect(() => prepareData(callback("Unknown"))).to.throw(Error);
  });
});
