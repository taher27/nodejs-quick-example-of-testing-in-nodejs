// ********RoostGPT********
/*
Test generated by RoostGPT for test checkNodejsDepsInstalled using AI Type Open AI and AI Model gpt-4


ROOST_TEST_HASH=869bcf28d1

*/

// ********RoostGPT********
const sinon = require('sinon');
const { processWeatherData } = require('./preparing-data-test');

describe('Test that the data fetched from OpenWeatherMap is processed correctly', () => {
  let callback;

  beforeAll(() => {
    callback = sinon.stub();
    callback.withArgs("London").returns(rawWeatherData);
  });

  test('Should check fetched data is processed correctly', () => {
    const processedData = processWeatherData("London", callback);
    expect(processedData).toBeDefined();
    expect(processedData).toBeInstanceOf(Object);
    expect(callback.calledOnce).toBeTruthy();
    expect(callback.calledWith("London")).toBeTruthy();
  });

  test('Should throw an error when no data is returned', () => {
    callback.withArgs("Unknown City").returns(null);
    expect(() => processWeatherData("Unknown City", callback)).toThrow();
  });
});
