// ********RoostGPT********
/*
Test generated by RoostGPT for test testM using AI Type Open AI and AI Model gpt-4

ROOST_METHOD_HASH=869bcf28d1
ROOST_METHOD_SIG_HASH=75d10f69f9


*/

// ********RoostGPT********
const chai = require('chai');
const expect = chai.expect;
const sinon = require('sinon');
const preparingData = require('./preparing-data-test');

describe('Test that the data fetched from OpenWeatherMap is processed correctly', function () {
  let callback;

  beforeEach(function() {
    callback = sinon.stub();
    callback.withArgs("London").returns(rawWeatherData);
  });

  it('Should check fetched data is processed correctly', function () {
    const result = preparingData.processData(callback("London"));
    expect(result).to.be.an('object');
    expect(result).to.have.property('temperature');
    expect(result).to.have.property('humidity');
    expect(result).to.have.property('pressure');
  });

  it('Should return an error for unsupported city', function () {
    const result = preparingData.processData(callback("unsupportedCity"));
    expect(result).to.be.an('error');
  });
})
